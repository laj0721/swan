$(function(){function e(t){i.text(t+"s后重试").addClass("disabled");var n=setTimeout(function(){return 1===t?void i.text("发送验证码").removeClass("disabled"):(t--,clearTimeout(n),void e(t))},1e3)}FastClick.attach(document.body);var t=parse(),i=$(".send-btn");$("header i").on("click",function(){history.go(-1)}),i.on("click",function(){if(!$(this).hasClass("disabled")){var t=$("#phone").val();return t.trim()?/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(t)?void $.ajax({type:"POST",url:"/api/verification-codes",data:{phone:t},dataType:"json",timeout:3e3,success:function(){e(60)},error:function(e){console.log(e)}}):(alert("手机号码不对！"),!1):(alert("请输入手机号码！"),!1)}}),$("button").on("click",function(e){e.preventDefault();var i=$("#phone").val(),n=$("#verification_code").val();if(!i.trim())return alert("请输入手机号码！"),!1;if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(i))return alert("手机号码不对！"),!1;if(!n.trim())return alert("请输入验证码！"),!1;var a={phone:i,verification_code:n};$.ajax({type:"POST",url:"/api/users",data:a,dataType:"json",timeout:3e3,success:function(){location.href="true"===t.isBtn?"../signUpSucc/index.html":"../../home/index.html?type=share&id="+t.id},error:function(){location.href="true"===t.isBtn?"../signUpSucc/index.html":"../../home/index.html?type=share&id="+t.id}})})});
//# sourceMappingURL=/web/shareGoods/signUp/js/index.js.map
